<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="/views/mobile/skin/default/css/mui.css?v=<?php echo time(); ?>" />
    <link rel="stylesheet" href="/views/mobile/skin/default/css/common.css?v=<?php echo time(); ?>" />
    <title>商品改价</title>
    <style>
        body{
            overflow:hidden;
        }
        header{
            width:100%;
            height:0.9rem;
            background:#fff;
        }
        header .choName{
            -webkit-flex:2 ;
            text-align:center;
            font-size:0.28rem;
        }
        header .brandList{
            -webkit-flex:1;
            margin-right:0.2rem;
        }
        header .brandList select{
            font-size:0.3rem;
            line-height:0.9rem;
        }
        header .brandList select option{
            font-size:0.26rem !important;
        }
        /*模态框样式*/
        .modal{
            border-top:1px solid #eee;
            position:fixed;
            width:100%;
            top:0;
            left:0;
            right:0;
            bottom:0;
            background:#fff;
            margin-top:0.9rem;
        }
        .modal .content{
            display: -webkit-flex;
            -webkit-justify-content: space-between;
        }
        .modal .content .left{
            width:2rem;
            text-align: center;
        }
        .modal .content .left .item{
            height:0.7rem;
            line-height:0.7rem;
            font-size:0.28rem;
            border-bottom:1px solid #eee;
        }
        .modal .content .right{
            width:5.2rem;
            margin-left:0.2rem;
            overflow-scrolling: touch;
        }
        .modal .content .right .con{
            width:5.2rem;
            display: -webkit-flex;
            -webkit-justify-content: space-between;
            -webkit-flex-wrap:wrap;
        }
        .modal .content .right .con .itemLi{
            font-size:0.28rem;
            margin:0.05rem 0.1rem 0 0.1rem;
            width:2.3rem;
            height:0.7rem;
            line-height:0.7rem;
            text-align:center;
            border:1px solid #eee;
        }
        article .pay{
            border-top:1px solid #eee;
            background:#fff;
        }
        article .pay .line1{
            padding-left:0.3rem;
            height:0.8rem;
            line-height:0.8rem;
            border-bottom:1px solid #eee;
        }
        article .pay .line2{
            padding-left:0.3rem;
              height:0.8rem;
              line-height:0.8rem;
          }
        article .pay  .text1::-webkit-input-placeholder{
            font-size:0.26rem;
            line-height: 0.3rem;
        }
        article .pay  .text1{
            margin-left:0.2rem;
            width:3rem;
            border-radius:0.03rem;
            background:#eee;
            padding-left:0.1rem;
            font-size:0.26rem;
            border:1px solid #bbb;
            height:0.5rem;
            color:#3d4225;
        }
        input[type="radio"] {
            padding:0.5rem;
            /*visibility: hidden;*/
            display: none;
        }
        .payR{
            margin-left:0.3rem;
            display: inline-block;
            width:0.3rem;
            height:0.3rem;
            border-radius:0.3rem;
            background:#bbb;
            position:relative;
            top:0.05rem;
        }
        footer{
            width:100%;
            height:0.9rem;
            margin-top:1.8rem;
        }
        footer .button1{
            width:30%;
            background:#bbb;
            height:0.9rem;
            line-height:0.9rem;
            text-align:center;
            font-size:0.28rem;
            color:#fff;
            border-radius:0.08rem;
            margin-right:0.2rem;
        }
        footer .button2 input{
            display: block;
            width:2.25rem;
            background:#ff4aa0;
            height:0.9rem;
            color:#fff;
            border:none;
            font-size:0.28rem;
            font-family: "Microsoft Yahei",'HelveticaNeueLt';
            border-radius:0.08rem;
        }
    </style>
</head>
<body>
    <div id="Test_container">
        <form action="" method="post" v-cloak>
            <!--隐藏元素用户选择的-->
            <input type="hidden" v-model="choId" name="choName">
            <!--头部元素-->
            <header class="flexbox">
                <div class="choName" @click="showCate">{{choName}}</div>
                <div class="brandList hidewrap">
                    <select name="choBrand" id=""  @change="getSel" v-model="selected">
                        <option v-for="option in brand" :value="option.brand_id">{{option.text}}</option>
                    </select>
                </div>
            </header>
            <article>
                <div  class="pay">
                    <div class="line1">
                        <label class="payR payR2" for="pay1" :style="inputData==1?style1:style2"></label>
                        <input type="radio" name="payWare" id="pay1" v-model="inputData" value="1"><span>代购费单件</span>
                        <input type="text" class="text1" placeholder="代购服务费（单件）"><span style="padding-left:0.1rem;">元</span>
                    </div>
                    <div class="line2">
                        <label class="payR payR2" for="pay2" :style="inputData==2?style1:style2" ></label>
                        <input type="radio" name="payWare" id="pay2" v-model="inputData" value="2"><span>代购费比例</span>
                        <input type="number"class="text1" placeholder="代购服务费比例"><span style="padding-left:0.1rem;">%</span>
                    </div>
                </div>
            </article>
            <footer class="flexbox">
                <div class="button1" onclick="SunInfo">
                    重置价格
                </div>
                <div class="button2">
                    <input type="submit" value="保存">
                </div>
            </footer>
        </form>
        <div class="modal" v-if="showModel" v-cloak>
            <div class="content">
                <div class="left">
                    <div class="item hidewrap" v-for="item in info" @click="showCate_two(item)" :style="item.showState?color2:color1">
                        {{item.name}}
                    </div>
                </div>
                <div class="right" v-for="item in info" v-if="item.showState">
                    <div class="con">
                        <div v-for="itemList in item.child" class="itemLi" @click="LastCho(itemList)">
                            {{itemList.name}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



<script src="/views/mobile/javascript/mui.js?v=<?php echo time(); ?>"></script>
<script src="/views/mobile/javascript/jquery.min.js?v=<?php echo time(); ?>"></script>
<script src="/views/mobile/javascript/vue.js"></script>
<script>
     var vm=new Vue({
         el:'#Test_container',
         data: {
             info:[],
             brand:[],
             selected:'选择品牌',
             choName:'选择分类',
             choId:'',
             showModel:false,
//             显示2级分类状态
             color1:"color:#bbb",
             color2:'color:#ff44a0',
             inputData:'',
             style1:'background:#ff4aa0',
             style2:'background:#bbb'

         },
         mounted: function(){
             var self=this;
             getInfo(self);
             getBrand(self);
         },
         methods: {
             showCate: function(){
                this.showModel=!this.showModel;
             },
             showCate_two: function(item){
                 this.info.map(function(it){
                     it.showState=false;
                 })
                 item.showState=true;
             },
             getSel:function(e){
                 this.choId='';
                 this.choName='选择分类';
//                console.log(e.target.selectedIndex) ;
             },
             LastCho: function(item){
                 this.choName=item.name;
                 this.choId=item.id;
                 this.showModel=!this.showModel;
             }
         }
     });
    function getInfo(self){
        mui.ajax('/apic/category_top',{
            dataType:'json',//服务器返回json格式数据
            type:'get',//HTTP请求类型
            timeout:10000,//超时时间设置为10秒；
            success:function(data){
                data.map(function(item){
                    item.showState=false;
                });
                data[0].showState=true;
                self.info=data;
            }
        });
    }
     function getBrand(self){
         self.brand=[
             { text: '品牌1', brand_id: '1' },
             { text: '品牌2', brand_id: '2' },
             { text: '品牌3', brand_id: '3' },
             { text: '品牌4', brand_id: '4' },
             { text: '品牌5', brand_id: '5' },
             { text: '品牌6', brand_id: '6' },
             { text: '品牌7', brand_id: '7' },
             { text: '品牌8', brand_id: '8' },
             { text: '品牌9', brand_id: '9' },
             { text: '品牌10', brand_id: '10' },
             { text: '品牌11', brand_id: '11' },
             { text: '品牌12', brand_id: '12' }
         ];
         self.selected=self.brand[0].brand_id;
     }
     function SunInfo(){
         mui.ajax('',{
             dataType:'json',//服务器返回json格式数据
             type:'get',//HTTP请求类型
             timeout:10000,//超时时间设置为10秒；
             success:function(data){

             }
         });
     }
</script>
</body>
</html>